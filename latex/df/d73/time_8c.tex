\doxysection{logic/time.c File Reference}
\hypertarget{time_8c}{}\label{time_8c}\index{logic/time.c@{logic/time.c}}


Implements time-\/related functionality for the game.  


{\ttfamily \#include "{}logic/time.\+h"{}}\newline
{\ttfamily \#include "{}hal/timer.\+h"{}}\newline
{\ttfamily \#include "{}logic/game.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for time.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d14/time_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{time_8c_a04352ea8ee003992baa1d4e993b50dae}{time\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initializes the timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{time_8c_ac55568b0a64c8b18a2d2ffc7d50eacaa}{time\+\_\+on\+Interrupt}} ()
\begin{DoxyCompactList}\small\item\em Increments the ticks and can finish the round. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{time_8c_a90e96cefd66715b9740be8f0dbab0042}{time\+\_\+finish\+Turn}} (\mbox{\hyperlink{structGameState}{Game\+State}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{game_8c_ab8c8a2816ae974e5a2df22ec1e87fa51}{game\+\_\+state}})
\begin{DoxyCompactList}\small\item\em Resets the ticks. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{time_8c_a5ad5fe91a14f332c6acc40870c980fae}{time\+\_\+pause}} ()
\begin{DoxyCompactList}\small\item\em Pause the timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{time_8c_aa626af1fe4486ff2f05529894b807e5a}{time\+\_\+resume}} ()
\begin{DoxyCompactList}\small\item\em Resume the timer when paused. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structGameTimer}{Game\+Timer}} \mbox{\hyperlink{time_8c_a5c31952f8992f7d8f3d22c625761e217}{g\+\_\+timer}}
\begin{DoxyCompactList}\small\item\em Global game timer instance. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements time-\/related functionality for the game. 

\begin{DoxySeeAlso}{See also}
\doxylink{time_8h}{time.\+h}
\end{DoxySeeAlso}
\begin{DoxyCopyright}{Copyright}
This Source Code Form is subject to the terms of the Mozilla Public License, v2.\+0. If a copy of the MPL was not distributed with this file, You can obtain one at \href{http://mozilla.org/MPL/2.0/}{\texttt{ http\+://mozilla.\+org/\+MPL/2.\+0/}}. 
\end{DoxyCopyright}


Definition in file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{time_8c_a90e96cefd66715b9740be8f0dbab0042}\index{time.c@{time.c}!time\_finishTurn@{time\_finishTurn}}
\index{time\_finishTurn@{time\_finishTurn}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{time\_finishTurn()}{time\_finishTurn()}}
{\footnotesize\ttfamily \label{time_8c_a90e96cefd66715b9740be8f0dbab0042} 
void time\+\_\+finish\+Turn (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structGameState}{Game\+State}} \texorpdfstring{$\ast$}{*}}]{game\+\_\+state}{}\end{DoxyParamCaption})}



Resets the ticks. 

Resets the turn-\/specific tick counter and updates the game state with the elapsed time for the current player.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em game\+\_\+state} & Current state of the game \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{time_8c_source_l00042}{42}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



References \mbox{\hyperlink{game_8h_source_l00087}{Game\+State\+::circle\+\_\+total\+\_\+ticks}}, \mbox{\hyperlink{game_8h_source_l00049}{Cross}}, \mbox{\hyperlink{game_8h_source_l00084}{Game\+State\+::cross\+\_\+total\+\_\+ticks}}, \mbox{\hyperlink{game_8h_source_l00078}{Game\+State\+::current\+\_\+player}}, \mbox{\hyperlink{time_8c_source_l00019}{g\+\_\+timer}}, \mbox{\hyperlink{game_8c_source_l00038}{game\+\_\+state}}, and \mbox{\hyperlink{time_8h_source_l00036}{Game\+Timer\+::ticks\+\_\+turn}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_a90e96cefd66715b9740be8f0dbab0042_icgraph}
\end{center}
\end{figure}
\Hypertarget{time_8c_a04352ea8ee003992baa1d4e993b50dae}\index{time.c@{time.c}!time\_init@{time\_init}}
\index{time\_init@{time\_init}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{time\_init()}{time\_init()}}
{\footnotesize\ttfamily \label{time_8c_a04352ea8ee003992baa1d4e993b50dae} 
void time\+\_\+init (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Initializes the timer. 

Sets up the hardware timer with the appropriate configuration for the game. 

Definition at line \mbox{\hyperlink{time_8c_source_l00025}{25}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



References \mbox{\hyperlink{timer_8h_source_l00096}{CC0}}, \mbox{\hyperlink{config_8h_source_l00078}{TICK\+\_\+\+SPEED}}, \mbox{\hyperlink{timer_8h_source_l00081}{TIMER0}}, \mbox{\hyperlink{timer_8h_source_l00091}{TIMER\+\_\+\+BIT\+\_\+\+MODE\+\_\+32}}, \mbox{\hyperlink{timer_8c_source_l00067}{timer\+\_\+capture\+Compare\+Set()}}, \mbox{\hyperlink{timer_8c_source_l00048}{timer\+\_\+init\+\_\+detailed()}}, and \mbox{\hyperlink{timer_8c_source_l00092}{timer\+\_\+start()}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_a04352ea8ee003992baa1d4e993b50dae_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_a04352ea8ee003992baa1d4e993b50dae_icgraph}
\end{center}
\end{figure}
\Hypertarget{time_8c_ac55568b0a64c8b18a2d2ffc7d50eacaa}\index{time.c@{time.c}!time\_onInterrupt@{time\_onInterrupt}}
\index{time\_onInterrupt@{time\_onInterrupt}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{time\_onInterrupt()}{time\_onInterrupt()}}
{\footnotesize\ttfamily \label{time_8c_ac55568b0a64c8b18a2d2ffc7d50eacaa} 
void time\+\_\+on\+Interrupt (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Increments the ticks and can finish the round. 

This function is called on a timer interrupt. It increments the total and turn-\/specific tick counters and triggers a timeout if the turn duration is exceeded. 

Definition at line \mbox{\hyperlink{time_8c_source_l00032}{32}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



References \mbox{\hyperlink{time_8c_source_l00019}{g\+\_\+timer}}, \mbox{\hyperlink{game_8c_source_l00149}{game\+\_\+on\+Time\+Out()}}, \mbox{\hyperlink{config_8h_source_l00069}{TICKS\+\_\+\+PER\+\_\+\+TURN}}, \mbox{\hyperlink{time_8h_source_l00035}{Game\+Timer\+::ticks\+\_\+total}}, and \mbox{\hyperlink{time_8h_source_l00036}{Game\+Timer\+::ticks\+\_\+turn}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_ac55568b0a64c8b18a2d2ffc7d50eacaa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{df/d73/time_8c_ac55568b0a64c8b18a2d2ffc7d50eacaa_icgraph}
\end{center}
\end{figure}
\Hypertarget{time_8c_a5ad5fe91a14f332c6acc40870c980fae}\index{time.c@{time.c}!time\_pause@{time\_pause}}
\index{time\_pause@{time\_pause}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{time\_pause()}{time\_pause()}}
{\footnotesize\ttfamily \label{time_8c_a5ad5fe91a14f332c6acc40870c980fae} 
void time\+\_\+pause (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Pause the timer. 

Stops the hardware timer and marks the timer as not running. 

Definition at line \mbox{\hyperlink{time_8c_source_l00058}{58}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



References \mbox{\hyperlink{time_8c_source_l00019}{g\+\_\+timer}}, \mbox{\hyperlink{time_8h_source_l00034}{Game\+Timer\+::is\+\_\+running}}, \mbox{\hyperlink{timer_8h_source_l00081}{TIMER0}}, and \mbox{\hyperlink{timer_8c_source_l00099}{timer\+\_\+stop()}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_a5ad5fe91a14f332c6acc40870c980fae_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_a5ad5fe91a14f332c6acc40870c980fae_icgraph}
\end{center}
\end{figure}
\Hypertarget{time_8c_aa626af1fe4486ff2f05529894b807e5a}\index{time.c@{time.c}!time\_resume@{time\_resume}}
\index{time\_resume@{time\_resume}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{time\_resume()}{time\_resume()}}
{\footnotesize\ttfamily \label{time_8c_aa626af1fe4486ff2f05529894b807e5a} 
void time\+\_\+resume (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Resume the timer when paused. 

Restarts the hardware timer and marks the timer as running. 

Definition at line \mbox{\hyperlink{time_8c_source_l00064}{64}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.



References \mbox{\hyperlink{time_8c_source_l00019}{g\+\_\+timer}}, \mbox{\hyperlink{time_8h_source_l00034}{Game\+Timer\+::is\+\_\+running}}, \mbox{\hyperlink{timer_8h_source_l00081}{TIMER0}}, and \mbox{\hyperlink{timer_8c_source_l00092}{timer\+\_\+start()}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_aa626af1fe4486ff2f05529894b807e5a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d73/time_8c_aa626af1fe4486ff2f05529894b807e5a_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{time_8c_a5c31952f8992f7d8f3d22c625761e217}\index{time.c@{time.c}!g\_timer@{g\_timer}}
\index{g\_timer@{g\_timer}!time.c@{time.c}}
\doxysubsubsection{\texorpdfstring{g\_timer}{g\_timer}}
{\footnotesize\ttfamily \label{time_8c_a5c31952f8992f7d8f3d22c625761e217} 
\mbox{\hyperlink{structGameTimer}{Game\+Timer}} g\+\_\+timer}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ (\mbox{\hyperlink{structGameTimer}{GameTimer}})\{}
\DoxyCodeLine{\ \ \ \ .ticks\_total\ =\ 0,}
\DoxyCodeLine{\ \ \ \ .ticks\_turn\ =\ 0,}
\DoxyCodeLine{\ \ \ \ .is\_running\ =\ \textcolor{keyword}{true},}
\DoxyCodeLine{\}}

\end{DoxyCode}


Global game timer instance. 

This global variable tracks the timer state and tick counts for the game. 

Definition at line \mbox{\hyperlink{time_8c_source_l00019}{19}} of file \mbox{\hyperlink{time_8c_source}{time.\+c}}.

